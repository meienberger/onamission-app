import * as React from 'react';
import { Dimensions, FlatList, StyleSheet } from 'react-native';
import { View, Text } from 'react-native-picasso';
import { TabView, SceneMap } from 'react-native-tab-view';
import MapScene from '../components/MapScene';
import ProjectCell from '../components/ProjectCell';
import { Project } from '../core/interfaces';

const styles = StyleSheet.create({
  flatListContent: {
    padding: 20,
  },
});

const data: Project[] = [
  {
    image:
      'https://images.squarespace-cdn.com/content/v1/5c98bda2c2ff611a49966134/1559816172092-W8RAQQ4F2KD4MN1HP66E/ke17ZwdGBToddI8pDm48kJbosy0LGK_KqcAZRQ_Qph1Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpyRoXPauM_hSH3XAFUMH3fmO1jdMVKkonRM0cGdyUtJRnZ7FnwXS6LE3CJOOwAGcs0/pe%CC%81pinie%CC%80re3Mocagua-1900x1425.jpg?format=500w',
    location: 'Colombia',
    title: 'Connecting the Atlantic Forest through wildlife corridors',
    description:
      'The Atlantic Forest, is among the world’s top five biodiversity hotspots. Trees are planted with the purpose of reconnecting remaining forest patches and grow new forest corridors.',
    geoJson: [
      [
        [85.924624324440074, 27.682949874364542],
        [85.924417726297762, 27.683754139635955],
        [85.924092669115609, 27.684151262913712],
        [85.923574510079916, 27.684281518397917],
        [85.922865176077082, 27.684407144055157],
        [85.922352948617245, 27.684443843345257],
        [85.921933252123225, 27.684340543582252],
        [85.921585072305632, 27.684280781786072],
        [85.921322273762527, 27.684143203129292],
        [85.921125870600392, 27.683755591388728],
        [85.920820932985606, 27.683387905935518],
        [85.920460879236572, 27.683431402973525],
        [85.919879914487836, 27.683719250629387],
        [85.91947453444449, 27.683834487164297],
        [85.91933145707425, 27.683983677026813],
        [85.919309975660866, 27.684442033637417],
        [85.91928243421259, 27.685196269542175],
        [85.918814677850861, 27.685801709204142],
        [85.918465035575991, 27.686079463332959],
        [85.918013332108416, 27.686140767344217],
        [85.917616105174602, 27.686191016768905],
        [85.917218878240817, 27.68636689036866],
        [85.916963517748243, 27.686693511334855],
        [85.916821651307018, 27.687020131324086],
        [85.916367677796728, 27.687221128060866],
        [85.91599882415116, 27.687246252527494],
        [85.915658343793851, 27.687095504845427],
        [85.915289490148282, 27.687020131324086],
        [85.915034129655751, 27.687020131324086],
        [85.914778770061517, 27.687145753830769],
        [85.914438289704208, 27.687346750336324],
        [85.914012689482163, 27.687396999206008],
        [85.913785702277849, 27.687296501443473],
        [85.91344522192054, 27.687120629340985],
        [85.913019621698496, 27.687095504845427],
        [85.912764261205965, 27.687120629340985],
        [85.912565648188192, 27.687020131324086],
        [85.912253541119156, 27.686894508672864],
        [85.911884687473588, 27.68679400965237],
        [85.911544207116307, 27.686819134217316],
        [85.911232100047272, 27.686995006805397],
        [85.910863246401703, 27.687095504845427],
        [85.910522766044394, 27.68696988228092],
        [85.9104092728914, 27.686768885081687],
        [85.91023903226359, 27.686593012924835],
        [85.909955299381096, 27.686593012924835],
        [85.909643192312046, 27.68684425877646],
        [85.909359458531256, 27.686894508672864],
        [85.909160845513497, 27.686693511334855],
        [85.909018978173947, 27.686693511334855],
        [85.908678497816638, 27.686693511334855],
        [85.908394764934144, 27.68664326214143],
        [85.907713804219526, 27.68656788830787],
        [85.907401697150476, 27.68656788830787],
        [85.907061216793167, 27.68656788830787],
        [85.906550496706387, 27.686668386741015],
        [85.905983029144778, 27.686467388986788],
        [85.90541556248148, 27.686140767344217],
        [85.90493321478462, 27.685562896502883],
        [85.903968521187551, 27.683829263244323],
        [85.903230813896414, 27.682824246235452],
        [85.903003826692114, 27.682271483455391],
        [85.902606599758329, 27.680964940824854],
        [85.902549853181839, 27.679809139717541],
        [85.902720092911323, 27.677874402350618],
        [85.902918706827364, 27.676869330546449],
        [85.903542920965478, 27.675989885629289],
        [85.904422494697812, 27.674984796486516],
        [85.90552905563446, 27.67408020811316],
        [85.907458443726995, 27.67310022912217],
        [85.908338017459343, 27.67277356750515],
        [85.909501325870792, 27.672572544180206],
        [85.91069300667219, 27.672044857485247],
        [85.911402340675068, 27.671316142605235],
        [85.911742821032362, 27.670939218440434],
        [85.912054927203087, 27.670713064272114],
        [85.912906128545515, 27.670662807726682],
        [85.913501968497044, 27.670662807726682],
        [85.914693649298442, 27.670512037156186],
        [85.915232743571806, 27.670210496186652],
        [85.915970450862901, 27.670109982610413],
        [85.916708158153995, 27.669833569003451],
        [85.917105385087822, 27.669632540269486],
        [85.917757972514181, 27.669607411751176],
        [85.918211946024471, 27.669607411751176],
        [85.918779412687769, 27.669557154697262],
        [85.919517119978863, 27.669356126250349],
        [85.920198080693467, 27.669406383396765],
        [85.921020907849297, 27.669632540269486],
        [85.921985602344705, 27.66993408283393],
        [85.922553069008032, 27.670009468941721],
        [85.923120536569627, 27.669959211277128],
        [85.923688003232911, 27.669733055080492],
        [85.924283844082794, 27.669607411751176],
        [85.924908058220893, 27.6697079265853],
        [85.925702512088492, 27.669959211277128],
        [85.92615648559881, 27.669959211277128],
        [85.926610459109071, 27.669783312053518],
        [85.926979312754639, 27.669657669577582],
        [85.927348166400193, 27.6697079265853],
        [85.927830514097053, 27.669557154697262],
        [85.928312860895602, 27.66930586828526],
        [85.928738461117646, 27.669104839376111],
        [85.929646408138254, 27.669004324782847],
        [85.930072009258623, 27.669205353876912],
        [85.930582729345389, 27.6697079265853],
        [85.931065076143952, 27.670311009670424],
        [85.931519049654256, 27.670939218440434],
        [85.932200010368859, 27.671341270730583],
        [85.932909344371708, 27.671617679728019],
        [85.933420065356813, 27.671969473577306],
        [85.933675424951062, 27.672271008897056],
        [85.934356385665666, 27.67272331190749],
        [85.934980599803765, 27.673049973674754],
        [85.935491319890545, 27.673376634465349],
        [85.935973666689108, 27.673803804549973],
        [85.936314147046403, 27.674431993237985],
        [85.936739747268447, 27.675110432836703],
        [85.936342520334662, 27.675889376574272],
        [85.935916920112632, 27.676241155873488],
        [85.935519693178804, 27.676618061747174],
        [85.93509409295676, 27.677070345965301],
        [85.934923853227261, 27.677598009182663],
        [85.934725239311192, 27.678201048715756],
        [85.93458337286998, 27.67872870647123],
        [85.934441505530401, 27.679507624408313],
        [85.934214519224426, 27.679909645165999],
        [85.933845665578858, 27.680537797947139],
        [85.933675424951062, 27.681140822045634],
        [85.933675424951062, 27.681593088332342],
        [85.933570075924408, 27.681910940523121],
        [85.933354102963804, 27.682033854683425],
        [85.93326318537224, 27.682211334713234],
        [85.933159500923821, 27.68262665166791],
        [85.933123030221594, 27.683087561915258],
        [85.933267621253094, 27.683344283989189],
        [85.933186268922668, 27.683598874362985],
        [85.932710731353978, 27.684055391055221],
        [85.93225811879131, 27.684454058051731],
        [85.93176960775331, 27.684680412074545],
        [85.931427120559647, 27.684912340300009],
        [85.931272587872897, 27.684785508490663],
        [85.930996708062622, 27.684574216210798],
        [85.930464105913813, 27.684422258898124],
        [85.930130117681074, 27.684385637557465],
        [85.929718545550486, 27.684556970310979],
        [85.929277554492685, 27.684775216654263],
        [85.92901425019808, 27.684741007308581],
        [85.928830073106937, 27.684651721701083],
        [85.928194236565687, 27.684512469035745],
        [85.927633262026959, 27.684335386506532],
        [85.927059302340808, 27.684069300796669],
        [85.92626997875179, 27.683829263244323],
        [85.925957872581037, 27.683829263244323],
        [85.925248538578202, 27.683552885145136],
        [85.924927251625249, 27.683220873330178],
        [85.924703519017214, 27.682946874583568],
        [85.924624324440074, 27.682949874364542],
      ],
    ],
  },
  {
    image:
      'https://images.squarespace-cdn.com/content/v1/5c98bda2c2ff611a49966134/1558698792400-MDG0D6CE8APZ40W0NG9G/ke17ZwdGBToddI8pDm48kAZjn-mKHA8C0aXyb3aDsesUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKctGagLi2bPeWvgyaXFkRSRiZ8eC1onD-aqPTLzoJlDSFqH6JdE1TCNUCN0lH1bNYP/3.+PreparingSeedlings_July2016A%CC%82%C2%A9WeForest.jpg?format=500w',
    location: 'Brazil',
    title: 'Connecting the Atlantic Forest through wildlife corridors',
    description:
      'The Atlantic Forest, is among the world’s top five biodiversity hotspots. Trees are planted with the purpose of reconnecting remaining forest patches and grow new forest corridors.',
  },
  {
    image:
      'https://images.squarespace-cdn.com/content/v1/5c98bda2c2ff611a49966134/1575237276434-ON7OUFC83GOTHRM79FC3/ke17ZwdGBToddI8pDm48kDTAbh0CONbwTX3ZvYLG-DdZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIKerXT_9qQd4b25ou8tSp2e2gEQVf_dO1eloENzeNrB8KMshLAGzx4R3EDFOm1kBS/ZAM_TrainingGrafting_Sep2016_%C2%A9WeForest.jpg?format=500w',
    location: 'Zambia',
    title: 'Making farmers become part of the solution to restore forests',
    description:
      'The reforestation project involves hundreds of farmers. Providing them with training and tools to diversify their sources of income.',
  },
  {
    image:
      'https://images.squarespace-cdn.com/content/v1/5c98bda2c2ff611a49966134/1558682975929-B0ZIP1NJ2SZRWM4GFDK6/ke17ZwdGBToddI8pDm48kDEDYh4Y0JGhR6hzuwcJ44gUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcz6bs2FkMoqlrQIzq4g5ogDqXr_T7rMikH_TfPkEE4wwzGwe9KEhUq6A0DxOZf-75/Majunga-Nursery-2-with-tentree-watermark-1024x683.jpg?format=500w',
    location: 'Madagascar',
    title:
      'Reforesting a country where 90% of the native forests have been destroyed',
    description:
      'The project includes two National Park systems, which aim to reforest and revive natural habitat for endangered and endemic animal species.',
  },
];

const FirstRoute = () => (
  <FlatList
    numColumns={2}
    contentContainerStyle={styles.flatListContent}
    data={data}
    renderItem={({ item }) => <ProjectCell project={item} />}
  />
);

const SecondRoute = () => <MapScene projects={data} />;

const initialLayout = { width: Dimensions.get('window').width };

export default function TabTwoScreen() {
  const [index, setIndex] = React.useState(0);
  const [routes] = React.useState([
    { key: 'first', title: 'First' },
    { key: 'second', title: 'Second' },
  ]);

  const renderScene = SceneMap({
    first: FirstRoute,
    second: SecondRoute,
  });

  return (
    <View className="bg-white flex-1">
      <TabView
        navigationState={{ index, routes }}
        renderScene={renderScene}
        onIndexChange={setIndex}
        initialLayout={initialLayout}
      />
    </View>
  );
}
